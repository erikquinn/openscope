
@import 'helpers';
@import 'values';

@loading-bg: hsl(@theme-hue, @theme-saturation, 4%);
@loading-fg: hsl(@theme-hue, @theme-saturation, 60%);

@dot-size: 8px;
@dot-spacing: 12px;

@log-height: 24px;

@keyframes spin {
  
  100% {
    transform: rotate(360deg);
  }
  
}

#loading {
  .absolute-full-size;
  
  background-color: @loading-bg;

  transition: opacity 1s ease-out, background-color 1s ease;

  color: @loading-fg;

  z-index: 100;

  display: flex;
  flex-direction: column;
  
  padding-top: 20vh;

  > * {
    text-align: center;
    margin-top: 2rem;
  }

  .spinner {
    transition: opacity 0.5s ease;
    
    @spinner-size: 64px;

    width: @spinner-size;
    height: @spinner-size;

    margin: 0 auto;

    background-image: url('images/loading-spinner-grid.png');
      background-size: 100%;

    &:after {
      content: '';
      display: block;
      
      width: @spinner-size;
      height: @spinner-size;

      background-image: url('images/loading-spinner.png');
      background-size: 100%;

      animation: spin 2s linear infinite;
    }
    
  }
  
  .name {
    display: none;
    
    background-color: @loading-fg;

    padding: 1rem 0;

    font-size: 150%;
    font-weight: bold;

    color: @loading-bg;

  }
  
  .message {
    opacity: 0.8;
  }

}

body.loaded #loading {
  opacity: 0;
  pointer-events: none;
}

body.error #loading {
  background-color: hsl(10, 100%, 4%);
  
  color: hsl(10, 70%, 60%);

  .spinner {
    opacity: 0;
  }
  
  .name {
    background-color: hsl(10, 70%, 60%);
    color: hsl(10, 100%, 4%);
  }
  
  opacity: 1;
  pointer-events: auto;
}